<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/API_style.css">
    <script src="lib/p5.min.js"></script>
    <script src="lib/p5.sound.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="sketch.js"></script>

    <!--<link rel="stylesheet" type="text/css" href="style.css">-->
  <style> body {padding: 0; margin: 0;} </style>
  </head>
  <body>
    <h1 id="title"></h1>
    
    <div>
      <br>
      <ul id="searchResult"></ul>
    </div>

<!--
    <script>
      //https://api.deezer.com/track/3135556
      //https://cors-anywhere.herokuapp.com/https://api.deezer.com/track/3135556

      console.log(encodeURIComponent('https://api.deezer.com/track/3135556'));


      $.get("https://cors-anywhere.herokuapp.com/https://api.deezer.com/track/3135556", (res) => {
        // console.log(res);
        console.log(res.preview);
        $("body").append(
        `<audio controls="controls">
          Your browser does not support the &lt;audio&gt; tag. 
          <source src="`+ res.preview + `" />
        </audio>`);

        // song = loadSound("../../test.mp3");
        // console.log(song);
        // song.play();
        song = loadSound(res.preview, callbackFunc);
        
        function callbackFunc(){
          song.play();
        }
        
        // window.location.href = res.preview;
      });

      $(document).ajaxError(function(){
        $("#title").text("Visit the page by clicking on the button below and accept, then come back to this page");
        $("#title").append('<br><br><a href="https://cors-anywhere.herokuapp.com/corsdemo">Click here</a>');
      });
    </script>
-->
  </body>
</html>
